Manual de Usuario - Sistema de Monitoreo de Precios de Alimentos

Versión: 1.0 (prototipo)
Fecha: 2025-10-27
Autor: Franco Mario Ayala Quispe

1. Introducción
Este documento explica cómo usar la aplicación demostrativa "Monitoreo de Precios" desarrollada en Flutter. La app permite consultar productos, comparar precios por mercado, reportar precios, guardar favoritos y definir alertas (todo en modo prototipo, con datos en memoria).

2. Requisitos previos
- Tener instalado Flutter (compatible con el SDK indicado en `pubspec.yaml`).
- Tener un dispositivo/emulador o ejecutar en navegador (Chrome/Edge) con `flutter run -d chrome` o `-d edge`.
- Línea de comandos (cmd.exe en Windows) para ejecutar los comandos indicados.

3. Instalación y arranque
Desde la raíz del proyecto (donde está `pubspec.yaml`) ejecuta:

```cmd
cd D:\UMSA\QUINTO_SEMESTRE\INGENIERIA_SOFTWARE\Proyecto\monitoreo_precios
flutter pub get
flutter analyze
flutter run
```

Si prefieres ejecutar en navegador:

```cmd
flutter run -d chrome
```

4. Qué contiene la aplicación (vistas principales)
- Login / Registro: `lib/views/login_view.dart`, `lib/views/register_view.dart`
- Inicio (Home): `lib/views/login_view.dart` (clase `HomeAfterLogin`) — tarjetas de acceso.
- Consulta de productos: `lib/views/producto_view.dart` (búsqueda, filtros por categoría y mercado).
- Comparador de precios: `lib/views/comparador_view.dart` (tabla paginada, ordenamiento, acciones).
- Tendencia de precios: `lib/views/precio_tendencia_view.dart` (gráfico simple en prototipo).
- Favoritos: `lib/views/favoritos_view.dart` (lista de productos guardados).
- Reportes: `lib/views/reporte_view.dart` (lista de reportes enviados; desde el comparador se pueden crear).
- Perfil: `lib/views/perfil_view.dart` (placeholder para futuras mejoras).

5. Uso paso a paso
A continuación un flujo típico de uso.

5.1. Registro / Inicio de sesión
- Abre la app y en la pantalla de Login introduce un correo válido (contiene '@') y una contraseña de al menos 6 caracteres.
- Pulsa "Ingresar".
- Para crear cuenta pulsa "¿No tienes cuenta? Registrarse" y completa el formulario (nombre, correo, contraseña). En este prototipo el registro es simulado y vuelve al login con el correo rellenado.

5.2. Pantalla de inicio
- Después de iniciar sesión verás una pantalla de bienvenida con tarjetas: "Consultar productos", "Mis favoritos", "Reportes" y "Perfil".
- Pulsa la tarjeta correspondiente para navegar.

5.3. Consultar productos
- En "Consultar productos" puedes escribir el nombre del producto o seleccionar una categoría o mercado.
- Pulsa "Buscar" (o Enter) para aplicar filtros.
- La lista mostrará productos coincidentes. Para cada producto:
  - Pulsar el corazón para marcar/desmarcar favorito.
  - Pulsar "Comparar precios" para ver la tabla comparativa.

5.4. Comparador de precios
- La tabla muestra los precios reportados por mercado con columnas: Mercado, Precio (Bs), Fecha, Acciones.
- Puedes ordenar por Precio o Fecha haciendo clic en el encabezado de la columna.
- Paginación: usa los controles de `PaginatedDataTable` para navegar entre páginas y cambiar filas por página.
- Acciones disponibles por fila:
  - "Reportar": abre un diálogo para reportar un nuevo precio en ese mercado. Al enviar, el reporte se guarda en memoria y el precio se añade al listado (prototipo).
  - "Ver productos": muestra un SnackBar (placeholder) — en versiones futuras navegará a la lista filtrada por mercado.

5.5. Tendencia de precios
- Desde el comparador pulsa el icono de gráfico en el AppBar para ver la tendencia.
- El gráfico se genera de forma sintética (historial simulado) cuando no hay datos históricos reales.
- Puedes cambiar el rango (7/14 días) y crear una alerta rápida con el último precio.

5.6. Favoritos
- Pulsa el corazón junto a un producto en la lista para añadirlo a tus favoritos (en memoria en este prototipo).
- Desde Home > "Mis favoritos" verás la lista de productos guardados, con opción de eliminar o ir al comparador.

5.7. Reportes
- Los reportes enviados desde el comparador quedan guardados en memoria.
- En Home > "Reportes" puedes ver todos los reportes, filtrar por producto y eliminar reportes.

6. Reglas de negocio (prototipo)
- Usuarios: la autenticación es simulada; se usa un usuario temporal en ciertas pantallas.
- Datos: productos, mercados y precios de ejemplo están definidos en memoria en `lib/services/producto_service.dart` y `lib/services/precio_service.dart`.
- Favoritos y reportes también son manejados en memoria por defecto (hay una implementación en memoria de `FavoritoService`).

7. Limitaciones actuales
- No hay persistencia permanente: al cerrar la app los datos en memoria se pierden (excepto si implementas `shared_preferences` o `hive`).
- Registro y login son simulados (sin verificación real ni almacenamiento seguro).
- Los gráficos de tendencia están basados en datos sintéticos para demostración.

8. Solución de problemas comunes
- Error: "Couldn't resolve package 'shared_preferences'"
  - Este prototipo puede funcionar sin `shared_preferences`. Si aparece, ejecuta:

```cmd
flutter pub get
```

  - Si quieres persistencia real, instala la dependencia en `pubspec.yaml` (descomentar o añadir `shared_preferences`) y luego `flutter pub get`.

- Error de runtime por paquete de gráficos (fl_chart): si aparece, edité la app para usar un gráfico local sin `fl_chart`. Asegúrate de ejecutar `flutter pub get` y reiniciar la app.

- Si `flutter run` no arranca en web/Edge: prueba con `-d chrome` o verifica que el SDK y herramientas están instaladas:

```cmd
flutter doctor
```

9. Estructura de archivos (ubicaciones relevantes)
- `lib/views/` — pantallas de la aplicación
- `lib/services/` — lógica de negocio / acceso a datos simulados
- `lib/models/` — modelos de datos
- `lib/widgets/` — componentes reutilizables

10. Próximos pasos sugeridos (mejoras)
- Implementar persistencia local para favoritos y reportes (SharedPreferences/Hive).
- Conectar a un backend real (REST API) con MySQL para persistencia, autenticación y datos históricos.
- Integrar Google Maps o `flutter_map` para mostrar mercados en mapa.
- Implementar notificaciones push para alertas reales.
- Añadir pruebas unitarias y de integración para cobertura.

11. Soporte y contacto
Si necesitas ayuda adicional o quieres que implemente alguna de las mejoras mencionadas, dime cuál y lo preparo. Incluye también los mensajes de error (si hay) para depurar más rápido.

Fin del manual.

